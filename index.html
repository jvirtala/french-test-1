<!doctype html>
<html lang="fi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ranskan kielen harjoitukset - Interaktiivinen sovellus</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                padding: 20px;
            }

            .container {
                max-width: 900px;
                margin: 0 auto;
                background: white;
                border-radius: 20px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                overflow: hidden;
            }

            .header {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 30px;
                text-align: center;
            }

            .header h1 {
                font-size: 2.5em;
                margin-bottom: 10px;
            }

            .nav {
                display: flex;
                justify-content: center;
                gap: 10px;
                padding: 20px;
                background: #f8f9fa;
                flex-wrap: wrap;
            }

            .nav-btn {
                padding: 12px 24px;
                border: none;
                background: #667eea;
                color: white;
                border-radius: 25px;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
                transition: all 0.3s;
            }

            .nav-btn:hover {
                background: #764ba2;
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .nav-btn.active {
                background: #764ba2;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            }

            .content {
                padding: 40px;
                min-height: 500px;
            }

            .section {
                display: none;
            }

            .section.active {
                display: block;
                animation: fadeIn 0.5s;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* Flashcard styles */
            .flashcard-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }

            .flashcard {
                width: 100%;
                max-width: 500px;
                height: 300px;
                perspective: 1000px;
                cursor: pointer;
            }

            .flashcard-inner {
                position: relative;
                width: 100%;
                height: 100%;
                transition: transform 0.6s;
                transform-style: preserve-3d;
            }

            .flashcard.flipped .flashcard-inner {
                transform: rotateY(180deg);
            }

            .flashcard-front,
            .flashcard-back {
                position: absolute;
                width: 100%;
                height: 100%;
                backface-visibility: hidden;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                font-size: 2em;
                font-weight: bold;
                padding: 30px;
                text-align: center;
            }

            .flashcard-front {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
            }

            .flashcard-back {
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                color: white;
                transform: rotateY(180deg);
            }

            .flashcard-controls {
                display: flex;
                gap: 15px;
                align-items: center;
            }

            .control-btn {
                padding: 12px 30px;
                border: none;
                border-radius: 25px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s;
            }

            .prev-btn {
                background: #95a5a6;
                color: white;
            }

            .next-btn {
                background: #27ae60;
                color: white;
            }

            .prev-btn:hover,
            .next-btn:hover {
                transform: scale(1.05);
            }

            .card-counter {
                font-size: 18px;
                color: #666;
                font-weight: bold;
            }

            .hint {
                color: #999;
                font-style: italic;
                margin-top: 20px;
            }

            /* Exercise styles */
            .exercise-box {
                background: #f8f9fa;
                padding: 25px;
                border-radius: 15px;
                margin: 20px 0;
                border-left: 5px solid #667eea;
            }

            .exercise-title {
                font-size: 1.5em;
                color: #667eea;
                margin-bottom: 20px;
                font-weight: bold;
            }

            .question {
                margin: 15px 0;
                padding: 15px;
                background: white;
                border-radius: 10px;
            }

            .question-text {
                font-weight: bold;
                margin-bottom: 10px;
                color: #2c3e50;
            }

            input[type="text"] {
                width: 100%;
                padding: 12px;
                border: 2px solid #ddd;
                border-radius: 8px;
                font-size: 16px;
                transition: border-color 0.3s;
            }

            input[type="text"]:focus {
                outline: none;
                border-color: #667eea;
            }

            input.correct {
                border-color: #27ae60;
                background: #d4edda;
            }

            input.incorrect {
                border-color: #e74c3c;
                background: #f8d7da;
            }

            .check-btn {
                padding: 15px 40px;
                border: none;
                background: #667eea;
                color: white;
                border-radius: 25px;
                font-size: 18px;
                font-weight: bold;
                cursor: pointer;
                margin-top: 20px;
                transition: all 0.3s;
            }

            .check-btn:hover {
                background: #764ba2;
                transform: translateY(-2px);
            }

            .feedback {
                margin-top: 20px;
                padding: 15px;
                border-radius: 10px;
                font-weight: bold;
                text-align: center;
            }

            .feedback.success {
                background: #d4edda;
                color: #155724;
            }

            .feedback.error {
                background: #f8d7da;
                color: #721c24;
            }

            /* Matching exercise styles */
            .matching-container {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin: 20px 0;
            }

            .matching-item {
                padding: 15px;
                background: white;
                border: 3px solid #ddd;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.3s;
                text-align: center;
                font-weight: bold;
            }

            .matching-item:hover {
                transform: scale(1.05);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }

            .matching-item.selected {
                border-color: #667eea;
                background: #e3f2fd;
            }

            .matching-item.correct {
                border-color: #27ae60;
                background: #d4edda;
            }

            .matching-item.incorrect {
                border-color: #e74c3c;
                background: #f8d7da;
            }

            .reset-btn {
                padding: 12px 30px;
                border: none;
                background: #95a5a6;
                color: white;
                border-radius: 25px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
                margin-top: 20px;
                transition: all 0.3s;
            }

            .reset-btn:hover {
                background: #7f8c8d;
            }

            .score {
                font-size: 1.5em;
                color: #667eea;
                font-weight: bold;
                text-align: center;
                margin: 20px 0;
            }

            /* Speech button styles */
            .speak-btn {
                position: absolute;
                top: 15px;
                right: 15px;
                background: rgba(255, 255, 255, 0.2);
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 18px;
                cursor: pointer;
                transition: all 0.3s;
                backdrop-filter: blur(10px);
            }

            .speak-btn:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: scale(1.1);
            }

            .speak-btn-inline {
                background: #667eea;
                color: white;
                border: none;
                border-radius: 20px;
                padding: 8px 12px;
                font-size: 14px;
                cursor: pointer;
                margin-left: 10px;
                transition: all 0.3s;
            }

            .speak-btn-inline:hover {
                background: #764ba2;
                transform: scale(1.05);
            }

            @media (max-width: 768px) {
                .container {
                    border-radius: 0;
                }

                .content {
                    padding: 20px;
                }

                .flashcard {
                    height: 250px;
                }

                .flashcard-front,
                .flashcard-back {
                    font-size: 1.5em;
                }

                .matching-container {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>🇫🇷 Ranskan kielen harjoitukset 🇫🇷</h1>
                <p>Interaktiivinen oppimissovellus</p>
            </div>

            <div class="nav">
                <button
                    class="nav-btn active"
                    onclick="showSection('flashcards')"
                >
                    Flash Cardit
                </button>
                <button class="nav-btn" onclick="showSection('matching')">
                    Yhdistä sanat
                </button>
                <button class="nav-btn" onclick="showSection('situations')">
                    Tilanteet
                </button>
                <button class="nav-btn" onclick="showSection('conversations')">
                    Keskustelut
                </button>
            </div>

            <div class="content">
                <!-- Flashcards Section -->
                <div id="flashcards" class="section active">
                    <div class="flashcard-container">
                        <div class="flashcard" onclick="flipCard()">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <span id="card-front">Bonjour</span>
                                    <button class="speak-btn" onclick="event.stopPropagation(); speakFrench(document.getElementById('card-front').textContent)">🔊</button>
                                </div>
                                <div class="flashcard-back">
                                    <span id="card-back">Hei, huomenta</span>
                                </div>
                            </div>
                        </div>

                        <p class="hint">💡 Klikkaa korttia kääntääksesi sen</p>

                        <div class="flashcard-controls">
                            <button
                                class="control-btn prev-btn"
                                onclick="prevCard()"
                            >
                                ◀ Edellinen
                            </button>
                            <span class="card-counter" id="card-counter"
                                >1 / 10</span
                            >
                            <button
                                class="control-btn next-btn"
                                onclick="nextCard()"
                            >
                                Seuraava ▶
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Matching Exercise Section -->
                <div id="matching" class="section">
                    <div class="exercise-box">
                        <div class="exercise-title">Yhdistä sanat</div>
                        <p>
                            Klikkaa ensin ranskalaista sanaa ja sitten sen
                            suomenkielistä käännöstä!
                        </p>

                        <div class="score" id="matching-score">
                            Pisteet: 0 / 8
                        </div>

                        <div class="matching-container" id="matching-container">
                            <!-- Generated by JavaScript -->
                        </div>

                        <button class="reset-btn" onclick="resetMatching()">
                            Aloita alusta
                        </button>
                    </div>
                </div>

                <!-- Situations Exercise Section -->
                <div id="situations" class="section">
                    <div class="exercise-box">
                        <div class="exercise-title">
                            Mitä sanoisit näissä tilanteissa?
                        </div>

                        <div class="question">
                            <div class="question-text">
                                1. Tapaat ystäväsi aamulla koulussa 🏫☀️
                                <button class="speak-btn-inline" onclick="speakFrench('Bonjour')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="sit1"
                                placeholder="Kirjoita ranskan sana..."
                            />
                        </div>

                        <div class="question">
                            <div class="question-text">
                                2. Haluat kysyä mitä kaverillesi kuuluu 😊
                                <button class="speak-btn-inline" onclick="speakFrench('Ça va ?')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="sit2"
                                placeholder="Kirjoita ranskan sana..."
                            />
                        </div>

                        <div class="question">
                            <div class="question-text">
                                3. Sanot opettajalle näkemiin 👋
                                <button class="speak-btn-inline" onclick="speakFrench('Au revoir')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="sit3"
                                placeholder="Kirjoita ranskan sana..."
                            />
                        </div>

                        <div class="question">
                            <div class="question-text">
                                4. Tapaat parhaan ystäväsi ja sanot rennosti
                                "moi!" 🤗
                                <button class="speak-btn-inline" onclick="speakFrench('Salut')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="sit4"
                                placeholder="Kirjoita ranskan sana..."
                            />
                        </div>

                        <div class="question">
                            <div class="question-text">
                                5. Lähdet harjoituksista - "nähdään myöhemmin!"
                                ⚽
                                <button class="speak-btn-inline" onclick="speakFrench('À plus tard !')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="sit5"
                                placeholder="Kirjoita ranskan sana..."
                            />
                        </div>

                        <div class="question">
                            <div class="question-text">
                                6. Kaveri kysyy "Ça va?" - vastaat että kuuluu
                                hyvää ✨
                                <button class="speak-btn-inline" onclick="speakFrench('Ça va')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="sit6"
                                placeholder="Kirjoita ranskan sana..."
                            />
                        </div>

                        <button class="check-btn" onclick="checkSituations()">
                            Tarkista vastaukset
                        </button>
                        <div id="situations-feedback"></div>
                    </div>
                </div>

                <!-- Conversations Section -->
                <div id="conversations" class="section">
                    <div class="exercise-box">
                        <div class="exercise-title">Täydennä keskustelut</div>

                        <h3 style="color: #667eea; margin: 20px 0">
                            Keskustelu A - Aamulla
                        </h3>
                        <div class="question">
                            <div class="question-text">
                                Marie: ________! (Hei, huomenta)
                                <button class="speak-btn-inline" onclick="speakFrench('Bonjour')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv1"
                                placeholder="Ranskan sana..."
                            />
                        </div>
                        <div class="question">
                            <div class="question-text">
                                Sinä: Bonjour Marie! ________? (Mitä kuuluu?)
                                <button class="speak-btn-inline" onclick="speakFrench('Ça va ?')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv2"
                                placeholder="Ranskan sana..."
                            />
                        </div>
                        <div class="question">
                            <div class="question-text">
                                Marie: ________, merci! (Kuuluu hyvää)
                                <button class="speak-btn-inline" onclick="speakFrench('Ça va')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv3"
                                placeholder="Ranskan sana..."
                            />
                        </div>

                        <h3 style="color: #667eea; margin: 30px 0 20px 0">
                            Keskustelu B - Uusi ystävä
                        </h3>
                        <div class="question">
                            <div class="question-text">
                                Sinä: Salut! ________? (Mikä sinun nimesi on?)
                                <button class="speak-btn-inline" onclick="speakFrench('Tu t\'appelles comment ?')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv4"
                                placeholder="Ranskan sana..."
                            />
                        </div>
                        <div class="question">
                            <div class="question-text">
                                Sinä: ________ [oma nimesi]. (Minä olen...)
                                <button class="speak-btn-inline" onclick="speakFrench('Je suis')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv5"
                                placeholder="Ranskan sana..."
                            />
                        </div>

                        <h3 style="color: #667eea; margin: 30px 0 20px 0">
                            Keskustelu C - Hyvästi
                        </h3>
                        <div class="question">
                            <div class="question-text">
                                Opettaja: ________, les enfants! (Näkemiin)
                                <button class="speak-btn-inline" onclick="speakFrench('Au revoir')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv6"
                                placeholder="Ranskan sana..."
                            />
                        </div>
                        <div class="question">
                            <div class="question-text">
                                Sinä: ________! (Nähdään pian!)
                                <button class="speak-btn-inline" onclick="speakFrench('À bientôt !')">🔊 Kuuntele</button>
                            </div>
                            <input
                                type="text"
                                id="conv7"
                                placeholder="Ranskan sana..."
                            />
                        </div>

                        <button
                            class="check-btn"
                            onclick="checkConversations()"
                        >
                            Tarkista vastaukset
                        </button>
                        <div id="conversations-feedback"></div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Speech synthesis setup
            let speech = null;
            
            function initSpeech() {
                if ('speechSynthesis' in window) {
                    speech = window.speechSynthesis;
                    return true;
                }
                return false;
            }
            
            function speakFrench(text) {
                if (!speech) return;
                
                // Stop any ongoing speech
                speech.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'fr-FR';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                utterance.volume = 1;
                
                // Try to find a French voice
                const voices = speech.getVoices();
                const frenchVoice = voices.find(voice => 
                    voice.lang.startsWith('fr') || 
                    voice.name.toLowerCase().includes('french') ||
                    voice.name.toLowerCase().includes('français')
                );
                
                if (frenchVoice) {
                    utterance.voice = frenchVoice;
                }
                
                speech.speak(utterance);
            }

            // Flashcard data
            const flashcards = [
                { front: "Bonjour", back: "Hei, huomenta" },
                { front: "Salut", back: "Moi, hei" },
                { front: "Ça va ?", back: "Mitä kuuluu?" },
                { front: "Ça va", back: "Kuuluu hyvää" },
                { front: "À plus tard !", back: "Nähdään myöhemmin!" },
                { front: "À bientôt !", back: "Nähdään pian!" },
                { front: "Au revoir", back: "Näkemiin" },
                { front: "Je suis", back: "Minä olen" },
                {
                    front: "Tu t'appelles comment ?",
                    back: "Mikä sinun nimesi on?",
                },
                { front: "Tu es", back: "Sinä olet" },
            ];

            let currentCard = 0;
            let isFlipped = false;

            // Navigation
            function showSection(sectionId) {
                document
                    .querySelectorAll(".section")
                    .forEach((s) => s.classList.remove("active"));
                document
                    .querySelectorAll(".nav-btn")
                    .forEach((b) => b.classList.remove("active"));

                document.getElementById(sectionId).classList.add("active");
                event.target.classList.add("active");
            }

            // Flashcard functions
            function updateCard() {
                document.getElementById("card-front").textContent =
                    flashcards[currentCard].front;
                document.getElementById("card-back").textContent =
                    flashcards[currentCard].back;
                document.getElementById("card-counter").textContent =
                    `${currentCard + 1} / ${flashcards.length}`;

                if (isFlipped) {
                    document
                        .querySelector(".flashcard")
                        .classList.remove("flipped");
                    isFlipped = false;
                }
            }

            function flipCard() {
                document
                    .querySelector(".flashcard")
                    .classList.toggle("flipped");
                isFlipped = !isFlipped;
            }

            function nextCard() {
                currentCard = (currentCard + 1) % flashcards.length;
                updateCard();
            }

            function prevCard() {
                currentCard =
                    (currentCard - 1 + flashcards.length) % flashcards.length;
                updateCard();
            }

            // Matching exercise
            const matchingPairs = [
                { french: "Bonjour", finnish: "Hei, huomenta" },
                { french: "Salut", finnish: "Moi, hei" },
                { french: "Ça va ?", finnish: "Mitä kuuluu?" },
                { french: "Au revoir", finnish: "Näkemiin" },
                { french: "Je suis", finnish: "Minä olen" },
                { french: "À bientôt !", finnish: "Nähdään pian!" },
                { french: "Tu es", finnish: "Sinä olet" },
                { french: "À plus tard !", finnish: "Nähdään myöhemmin!" },
            ];

            let selectedFrench = null;
            let matchedCount = 0;
            let matchedPairs = new Set();

            function initMatching() {
                const container = document.getElementById("matching-container");
                container.innerHTML = "";

                const shuffledFinnish = [...matchingPairs].sort(
                    () => Math.random() - 0.5,
                );

                matchingPairs.forEach((pair, index) => {
                    const frenchDiv = document.createElement("div");
                    frenchDiv.className = "matching-item";
                    frenchDiv.innerHTML = `${pair.french} <button class="speak-btn-inline" onclick="event.stopPropagation(); speakFrench('${pair.french}')">🔊</button>`;
                    frenchDiv.dataset.type = "french";
                    frenchDiv.dataset.index = index;
                    frenchDiv.onclick = () => selectFrench(frenchDiv, index);
                    container.appendChild(frenchDiv);
                });

                shuffledFinnish.forEach((pair, originalIndex) => {
                    const finnishDiv = document.createElement("div");
                    finnishDiv.className = "matching-item";
                    finnishDiv.textContent = pair.finnish;
                    finnishDiv.dataset.type = "finnish";
                    finnishDiv.dataset.index = matchingPairs.findIndex(
                        (p) => p.finnish === pair.finnish,
                    );
                    finnishDiv.onclick = () => selectFinnish(finnishDiv);
                    container.appendChild(finnishDiv);
                });
            }

            function selectFrench(element, index) {
                if (matchedPairs.has(index)) return;

                document
                    .querySelectorAll('.matching-item[data-type="french"]')
                    .forEach((el) => {
                        if (!matchedPairs.has(parseInt(el.dataset.index))) {
                            el.classList.remove("selected");
                        }
                    });

                element.classList.add("selected");
                selectedFrench = { element, index };
            }

            function selectFinnish(element) {
                const finnishIndex = parseInt(element.dataset.index);

                if (matchedPairs.has(finnishIndex)) return;
                if (!selectedFrench) return;

                if (selectedFrench.index === finnishIndex) {
                    selectedFrench.element.classList.remove("selected");
                    selectedFrench.element.classList.add("correct");
                    element.classList.add("correct");
                    matchedPairs.add(finnishIndex);
                    matchedCount++;

                    document.getElementById("matching-score").textContent =
                        `Pisteet: ${matchedCount} / 8`;

                    if (matchedCount === 8) {
                        setTimeout(() => {
                            alert("🎉 Hienoa! Sait kaikki oikein!");
                        }, 300);
                    }
                } else {
                    selectedFrench.element.classList.add("incorrect");
                    element.classList.add("incorrect");

                    setTimeout(() => {
                        selectedFrench.element.classList.remove(
                            "incorrect",
                            "selected",
                        );
                        element.classList.remove("incorrect");
                    }, 1000);
                }

                selectedFrench = null;
            }

            function resetMatching() {
                selectedFrench = null;
                matchedCount = 0;
                matchedPairs.clear();
                document.getElementById("matching-score").textContent =
                    "Pisteet: 0 / 8";
                initMatching();
            }

            // Situations exercise
            const situationsAnswers = {
                sit1: ["bonjour"],
                sit2: ["ça va", "ça va?"],
                sit3: ["au revoir"],
                sit4: ["salut"],
                sit5: ["à plus tard", "à plus tard!"],
                sit6: ["ça va"],
            };

            function normalizeAnswer(answer) {
                return answer.toLowerCase().trim().replace(/[!?]/g, "");
            }

            function checkSituations() {
                let correct = 0;
                const total = 6;

                for (let i = 1; i <= total; i++) {
                    const input = document.getElementById(`sit${i}`);
                    const userAnswer = normalizeAnswer(input.value);
                    const correctAnswers =
                        situationsAnswers[`sit${i}`].map(normalizeAnswer);

                    if (correctAnswers.includes(userAnswer)) {
                        input.className = "correct";
                        correct++;
                    } else {
                        input.className = "incorrect";
                    }
                }

                const feedback = document.getElementById("situations-feedback");
                if (correct === total) {
                    feedback.className = "feedback success";
                    feedback.textContent = `🎉 Täydellinen! Sait kaikki ${correct}/${total} oikein!`;
                } else {
                    feedback.className = "feedback error";
                    feedback.textContent = `Sait ${correct}/${total} oikein. Yritä uudelleen!`;
                }
            }

            // Conversations exercise
            const conversationsAnswers = {
                conv1: ["bonjour"],
                conv2: ["ça va", "ça va?"],
                conv3: ["ça va"],
                conv4: [
                    "tu t'appelles comment",
                    "tu t'appelles comment?",
                    "tu t'appelles comment ?",
                ],
                conv5: ["je suis"],
                conv6: ["au revoir"],
                conv7: ["à bientôt", "à bientôt!"],
            };

            function checkConversations() {
                let correct = 0;
                const total = 7;

                for (let i = 1; i <= total; i++) {
                    const input = document.getElementById(`conv${i}`);
                    const userAnswer = normalizeAnswer(input.value);
                    const correctAnswers =
                        conversationsAnswers[`conv${i}`].map(normalizeAnswer);

                    if (correctAnswers.includes(userAnswer)) {
                        input.className = "correct";
                        correct++;
                    } else {
                        input.className = "incorrect";
                    }
                }

                const feedback = document.getElementById(
                    "conversations-feedback",
                );
                if (correct === total) {
                    feedback.className = "feedback success";
                    feedback.textContent = `🎉 Loistavaa! Sait kaikki ${correct}/${total} oikein!`;
                } else {
                    feedback.className = "feedback error";
                    feedback.textContent = `Sait ${correct}/${total} oikein. Yritä vielä kerran!`;
                }
            }

            // Initialize on page load
            window.onload = function () {
                updateCard();
                initMatching();
                initSpeech();
            };
        </script>
    </body>
</html>
